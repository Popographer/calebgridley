@tailwind base;
@tailwind components;
@tailwind utilities;

/* tiny reset */
*, *::before, *::after { box-sizing: border-box; }
html, body { margin: 0; }
html, body, #__next { height: 100%; }

/* black canvas */
body{
  background:#000;
  color:#fff;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* hide scrollbars */
html { scrollbar-width: none; }            /* Firefox */
body::-webkit-scrollbar { display: none; } /* WebKit */

/* default overscroll: allow page to chain (prevents footer “stickiness”) */
html, body { overscroll-behavior-y: auto; }

/* opt-in helper: apply to the reel container if you want to tame bounce there */
.no-bounce { overscroll-behavior-y: contain; }

/* keyboard accessibility */
:focus-visible { outline:2px solid rgba(255,255,255,.9); outline-offset:2px; }

/* mobile niceties */
html { -webkit-tap-highlight-color: transparent; }

/* reduce motion = disable animations/transitions/smooth scroll */
@media (prefers-reduced-motion: reduce){
  * { animation: none !important; transition: none !important; }
  html { scroll-behavior: auto !important; }
}

/* minor: avoid white flash before video paint */
video { background:#000; display:block; }
img { display:block; }

/* Hide scrollbars on any element with .no-scrollbar */
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

/* ── iOS safe-area helpers (titles & footer) ─────────────────────────────── */
.safe-b {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}
@supports (padding: constant(safe-area-inset-bottom)) {
  .safe-b { padding-bottom: constant(safe-area-inset-bottom); }
}

/* Larger bottom padding that also respects iOS safe area */
@media (max-width: 767.98px){
  .safe-b-plus {
    padding-bottom: calc(2.25rem + env(safe-area-inset-bottom, 0px));
  }
}
@supports (padding: constant(safe-area-inset-bottom)) {
  @media (max-width: 767.98px){
    .safe-b-plus {
      padding-bottom: calc(2.25rem + constant(safe-area-inset-bottom));
    }
  }
}

/* Sections use dynamic viewport height to avoid iOS toolbar jumps */
.reel-section { height: 100svh; }
@supports (height: 100dvh) {
  .reel-section { height: 100dvh; }
}

/* Title padding: keep text above iOS bars using safe-area
   (padding, not bottom, avoids reflow glitches on toolbar show/hide) */
@media (max-width: 767.98px){
  .title-pad {
    /* ≈72px above bottom + safe-area */
    padding-bottom: calc(72px + env(safe-area-inset-bottom, 0px));
  }
}
/* Older iOS fallback */
@supports (padding: constant(safe-area-inset-bottom)) {
  @media (max-width: 767.98px){
    .title-pad {
      padding-bottom: calc(72px + constant(safe-area-inset-bottom));
    }
  }
}
